{% extends "base.html" %}

{% block body %}


    <div id="map"></div>
    <img src="../static/images/marker-icon.png">


<script type="text/javascript">
    // var map = L.map('map').setView([51.505, -0.09], 13);
  

//red style is 53004
    // L.tileLayer('http://{s}.tile.cloudmade.com/7a3e1ff58dc1489e92c5517894eebb4a/116196/256/{z}/{x}/{y}.png', {
    //     attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
    //     maxZoom: 18
    // }).addTo(map);

    

    var marker = L.icon({
        iconUrl: 'static/images/marker-icon.png',
        shadowUrl: 'static/images/marker-shadow.png'
    });

    var cloudmadeAttribution = '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors';
    var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/7a3e1ff58dc1489e92c5517894eebb4a/{styleId}/256/{z}/{x}/{y}.png';

    var dayMap = L.tileLayer(cloudmadeUrl, {styleId: 116196, attribution: cloudmadeAttribution});

    var nightMap = L.tileLayer(cloudmadeUrl, {styleId: 53004, attribution: cloudmadeAttribution});


    var sanFrancisco = L.marker([37.7833, -122.4167], {icon: marker}).bindPopup('Hi!');
    var sanDiego = L.marker([32.7150, -117.1625], {icon: marker}).bindPopup('Hi!');
    var portland = L.marker({lat:45.5200, lng:-122.6819}, {icon: marker}).bindPopup('Hi!');
    
    var cities = L.layerGroup([sanFrancisco, sanDiego, portland]);

    var map = L.map('map', {layers: [dayMap, cities]});
    map.locate({setView: true, maxZoom: 8});

    var baseMaps = {
        "Normal": dayMap,
        "Night Mode": nightMap
    };

    var overlayMaps = {
        "Cities":cities
    };

    L.control.layers(baseMaps, overlayMaps).addTo(map);

</script>

{% endblock %}


